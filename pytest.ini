[pytest]
# 原有标记配置
markers =
    smoke: 冒烟测试
    regression: 回归测试
    api: 接口测试

# 测试文件配置（兼容原有和新功能）
testpaths = data/test_cases tests  # 支持多个路径
python_files = *.yaml test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# 命令行选项（通过addopts或环境变量控制）
addopts = -v --strict-markers --tb=short
# 注意：alluredir参数已在run.py中指定，这里可以不重复

# 警告过滤
filterwarnings =
    ignore::DeprecationWarning

# 自定义配置节（不影响原有功能）
[yaml_tests]
enabled = true
pattern = *.yaml
directory = data/test_cases